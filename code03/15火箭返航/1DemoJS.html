<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        .rocket {
            position: fixed;
            right: 50px;
            bottom: 100px;
            display: none;
        }
    </style>
</head>
<body>
<span class="rocket" id="backTop">
    <img src="images/Top.jpg" alt=""/>
</span>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>

<p>开始页面内容</p>
</body>
</html>
<script src="tools.js" type="text/javascript"></script>
<script>
    //要做事先找人
    var backTop = $("backTop");
    var timer = null;
    var leader = 0;

    //1.窗体滚动时检测页面被卷去的头部 如果是0就隐藏小火箭 否则显示
    window.onscroll = function () {
        if (scroll().top > 0) {
            show("backTop");
        } else {
            hide("backTop");
        }
        //页面滚动的时候 给leader赋值 记录页面被卷去的头部的高度

        leader = scroll().top;

    }

    //2.点击小火箭 返回顶部
    backTop.onclick = function () {
        //window.scrollTo(0, 0);
        //让window渐渐地滚回去

        clearInterval(timer);
        timer = setInterval(function () {
            //step = (target-leader)/10
            //leader = leader + step
            var target = 0;
            var step = (target - leader) / 10;
            step = step > 0 ? Math.ceil(step) : Math.floor(step);
            leader = leader + step;
            window.scrollTo(0, leader);
            console.log("target:" + target + "---leader:" + leader + "---step:" + step);
            if (leader == target) {
                clearInterval(timer);
            }

        }, 15)


    }


    function animate(obj, target) {
        clearInterval(obj.timer);//为了防止重复调用
        obj.timer = setInterval(function () {
            var leader = obj.offsetLeft;
            var step = (target - leader) / 10;
            step = step > 0 ? Math.ceil(step) : Math.floor(step);
            console.log("target:" + target + "---leader:" + leader + "---step:" + step);
            if (leader != target) {//说明还没有到
                obj.style.left = leader + step + "px";
            } else {//说明到了
                clearInterval(obj.timer);
            }
        }, 15)
    }


</script>